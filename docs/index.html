<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Extract fluorescence distribution data from any bivariate distribution within a previously defined flow cytometry gating set and recalculate the fluorescence distribution data to events per volume. To (meaningfully) use flowdex, the FCM files have to contain volumetric measurement data denoting the acquired sample volume.">
<title>Extract Fluorescence Distribution Data from FCM Files and Recalculate to Events per Volume • flowdex</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Extract Fluorescence Distribution Data from FCM Files and Recalculate to Events per Volume">
<meta property="og:description" content="Extract fluorescence distribution data from any bivariate distribution within a previously defined flow cytometry gating set and recalculate the fluorescence distribution data to events per volume. To (meaningfully) use flowdex, the FCM files have to contain volumetric measurement data denoting the acquired sample volume.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">flowdex</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="flowdex">flowdex<a class="anchor" aria-label="anchor" href="#flowdex"></a>
</h1></div>
<p>Extract Fluorescence Distribution Data from FCM Files and Recalculate
to Events per Volume</p>
<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p>Extract fluorescence distribution data from any bivariate
distribution within a previously defined flow cytometry gating strategy
and recalculate the fluorescence distribution data to events per volume.
To (meaningfully) use flowdex, the FCM files have to contain volumetric
measurement data denoting the acquired sample volume. Additionally, it
is possible to generate any number of class- and numerical variables
describing the dataset by providing a structured character string in the
Sample-ID field of each individual sample at the time of data
acquisition. At the time of reading in the FCS files, this structured
character string is translated into class- und numerical variables,
using a dictionary to translate any abbreviations into its long form.
Finally, the fluorescence-distribution data that were (possibly)
re-calculated to events per volume unit can be visualised and exported
to file, along with data denoting the overall events per volume unit in
each sample in each gate.<br><code>flowdex</code> is leaning heavily on the packages
<code>flowCore</code>and <code>flowWorkspace</code> for data import,
generation of gating sets etc.</p>
<p>To sum it up, package flowdex can: * Extract fluorescence
distribution data from FCM files and recalculate them to events per
volume unit, * Generate variables describing the dataset by using a
structured character string in the sample-Id field of the sample at the
time of data acquisition, and * Visualise fluorescence distributions and
export them to file.</p>
</div>
<div class="section level2">
<h2 id="advantage">Advantage<a class="anchor" aria-label="anchor" href="#advantage"></a>
</h2>
<p>To the authors humble knowledge, having ones hand directly on the
rawdata of fluorescence distributions is not something the average
desktop GUI of FCM-machines is providing easily or willingly. Package
<code>flowdex</code> was designed to alleviate that problem.<br>
Additionally, if the FCM-machine used for data acquisition does have a
volumetric measurement module and the FCS files contain volumetric data,
it is possible to re-calculate any extracted fluorescence distribution
to events per volume unit. In other words, the y-axis of any
fluorescence distribution can be displayed in a fixed scale, i.e. events
per volume unit. This enables the comparison of numbers on a fixed scale
across samples, groups or experiments, instead of being confined to
compare percentages of sub-groups of an overal population.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install release version from CRAN via</p>
<pre><code><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"flowdex"</span><span class="op">)</span></code></pre>
<p>Or download from github:</p>
<pre><code><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span>
<span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span>repo<span class="op">=</span><span class="st">"bpollner/flowdex"</span>, ref<span class="op">=</span><span class="st">"main"</span><span class="op">)</span></code></pre>
<hr>
</div>
</div>
<div class="section level1">
<h1 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h1>
<p>In order to walk the user over the main-features of package
<code>flowdex</code>, a small tutorial-dataset has been created, along
with gating strategy files and the required polygon-gate definitions.
Also, the workflow how to create the gating strategy file and the
polygon gate definitions will be explained.</p>
<div class="section level2">
<h2 id="set-up-tutorial">Set up Tutorial<a class="anchor" aria-label="anchor" href="#set-up-tutorial"></a>
</h2>
<p>First, download the tutorial data from its Github repository to your
desktop (or any place you prefer).</p>
<pre><code><span class="va">from</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/bpollner/data/raw/main/flowdexTutorial/flowdexTutorial.zip"</span>
<span class="va">destination</span> <span class="op">&lt;-</span> <span class="st">"~/desktop"</span>
<span class="va">targetZip</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial.zip"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">targetZip</span>, mode<span class="op">=</span><span class="st">"wb"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="va">targetZip</span>, exdir <span class="op">=</span> <span class="va">destination</span><span class="op">)</span></code></pre>
<p>(All the code below is also available in the file ‘flowdexTutorial.R’
in the uncompressed folder.)</p>
<div class="section level4">
<h4 id="note-description-of-tutorial-dataset">Note: Description of Tutorial Dataset<a class="anchor" aria-label="anchor" href="#note-description-of-tutorial-dataset"></a>
</h4>
<ul>
<li>All samples are tap water samples stained with cybergreen following
the method as described in:<br>
Prest, E. I., Hammes, F., Kotzsch, S., van Loosdrecht, M. C., &amp;
Vrouwenvelder, J. S. (2013). Monitoring microbiological changes in
drinking water systems using a fast and reproducible flow cytometric
method. Water Research, 47(19), 7131-7142 <a href="https://doi.org/10.1016/j.watres.2013.07.051" class="external-link uri">https://doi.org/10.1016/j.watres.2013.07.051</a>
</li>
<li>It was the purpose of the experiment to monitor the number of
autochthonous bacteria in the water samples and their fluorescence
distribution (LNA vs. HNA bacteria) over time.</li>
<li>A sample-ID string has been provided at the time of data
acquisition, providing class and numerical variables describing each
sample as described below.</li>
<li>There are two groups, experiment and control. The experiment group
is denoted as ‘GPos’, the control group is denoted as ‘GNeg’.</li>
<li>From each group, 24 samples were taken each day, from which 18
samples are included In this dataset.</li>
<li>FCS files from day 4, day 5 and day 6 are included (denoted as T4,
T5, and T6).</li>
<li>The 18 samples per day from each group are further structured in
‘thirds’ and beaker number: th1, th2 and th3 for the first, second and
third third of the 18 samples, b1, b2, … up to b6 for the 6 samples (b
for beaker) within each third.</li>
</ul>
</div>
<div class="section level3">
<h3 id="initialise-settings-file-system">Initialise Settings File System<a class="anchor" aria-label="anchor" href="#initialise-settings-file-system"></a>
</h3>
<p>Package <code>flowdex</code> makes use of the dynamic settings file
system provided by package <code>uniset</code>. This has to be
initialised <strong>just once</strong> by calling</p>
<pre><code><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">flowdex</span><span class="op">)</span>
<span class="va">destination</span> <span class="op">&lt;-</span> <span class="st">"~/desktop"</span>
<span class="fu"><a href="reference/setupSettings.html">setupSettings</a></span><span class="op">(</span><span class="va">destination</span><span class="op">)</span></code></pre>
<p>Follow the on-screen instructions and possibly re-start R.<br>
From now on, various global settings and default values used by
<code>flowdex</code> can conveniently be viewed and changed in the file
<code>flowdex_settings.R</code> residing at
<code>~/desktop/flowdex_SH</code> (if you kept it there as in the
example).</p>
<hr>
</div>
<div class="section level3">
<h3 id="quickstart">Quickstart<a class="anchor" aria-label="anchor" href="#quickstart"></a>
</h3>
<p>After having (only once) set up the <a href="#initialise-settings-file-system">settings file system</a>, you
could dive straight in – if you want a quickstart to immediately see
what <code>flowdex</code> can do, call:</p>
<pre><code><span class="va">destination</span> <span class="op">&lt;-</span> <span class="st">"~/desktop"</span> <span class="co"># again, as R was possibly restarted</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial"</span><span class="op">)</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">flowdex</span><span class="op">)</span>
<span class="va">fdmat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/flowdexit.html">flowdexit</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># this might take a few seconds</span>
<span class="va">fdmat</span><span class="op">@</span><span class="va">pData</span> <span class="co"># to inspect volume and sample ID data</span>
<span class="va">fdmat</span><span class="op">@</span><span class="va">cyTags</span> <span class="co"># to inspect class- and numerical variables assigned to each sample</span>
<span class="va">fdmat</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># to inspect fluorescence distribution</span></code></pre>
<p>Look at ‘flowdexTutorial/rawdata/flscData_gateStrat.xlsx.xlsx’ to see
the fluorescence distribution exported to file, observe the various
sheets there.</p>
<hr>
</div>
<div class="section level3">
<h3 id="prepare-folder-structure">Prepare Folder Structure<a class="anchor" aria-label="anchor" href="#prepare-folder-structure"></a>
</h3>
<p>Take it step by step, not interested in the quickstart above: We
assume that data from a single experiment will be residing in a single
folder – the ‘home’ folder for this experiment.<br>
Within this home-folder, <code>flowdex</code>requires a simple folder
structure to properly work. Create that folder structure now within a
newly created experiment home-folder called ‘<a href="mailto:tapWater@home" class="email">tapWater@home</a>’:</p>
<pre><code><span class="va">destination</span> <span class="op">&lt;-</span> <span class="st">"~/desktop"</span> <span class="co"># again, as R was possibly restarted</span>
<span class="va">expHome</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home"</span><span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">expHome</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">expHome</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">flowdex</span><span class="op">)</span> <span class="co"># as you might have had to restart R above</span>
<span class="fu"><a href="reference/genfs.html">genfs</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># create the required folder structure</span></code></pre>
<p>If you want, you can now go straight to <a href="#workflow-b-extract-fluorescence-distributions">Workflow B</a>,
where you can learn how to extract fluorescence distributions and how to
visualize them.</p>
</div>
<div class="section level3">
<h3 id="acquire-data">Acquire Data<a class="anchor" aria-label="anchor" href="#acquire-data"></a>
</h3>
<p>Now would be the time for data acquisition – go and measure your
samples, then come back and put your FCS files into the folder
‘fcsFiles’.<br>
Simulate data acquisition now by manually copying the files from
‘flowdexTutorial/fcsFiles’ to ‘<a href="mailto:tapWater@home" class="email">tapWater@home</a>/fcsFiles’, or call</p>
<pre><code><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/fcsFiles"</span><span class="op">)</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/fcsFiles"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span><span class="op">)</span></code></pre>
<div class="section level4">
<h4 id="using-structured-id-string-and-dictionary">Using Structured ID String and Dictionary<a class="anchor" aria-label="anchor" href="#using-structured-id-string-and-dictionary"></a>
</h4>
<p>If so desired, it is possible to generate class- and numerical
variables further describing each sample resp. the dataset by providing
a structured character string to the <strong>Sample-ID field</strong> of
each sample in the GUI of the FCM-machine <strong>at the time of data
acquisition</strong>. This character string will then later be expanded
using a dictionary (located in ‘<a href="mailto:tapWater@home" class="email">tapWater@home</a>/dictionary’) to expand the abbreviations
to its long names.<br>
As this step, the assigning of the structured character string to each
sample, has to be done at the time of data acquisition in the GUI of the
FCM-machine, we´d like to explain the process by showing and describing
what was used in the case of our tutorial data:<br>
Lets consider for example the sample named ‘N_na_GPos_T4_th1_b3.fcs’.
This is a sample of the experiment-group (‘GPos’), from day 4 (‘T4’),
first third of beakers (‘th1’), and from that the beaker number 3
(‘b3’). The structured character string now contains <strong>elements
and groups</strong>, each separated by a dedicated single character. The
default value for separating groups is ‘;’ and that for separating
elements is ‘:’.<br>
There can be as many groups as desired. A single group consists of
exactly two elements: the key and the value, separated per default by
‘:’. For the sample above, the input in the sample-ID field in the GUI
of the FCM-machine at the time of data acquisition now would be:</p>
<pre><code><span class="va">tr</span><span class="op">:</span> <span class="va">GPos</span>; <span class="va">Td</span><span class="op">:</span> <span class="fl">4</span>; <span class="va">wt</span><span class="op">:</span> <span class="va">nativ</span>; <span class="va">ap</span><span class="op">:</span> <span class="va">no</span>; <span class="va">th</span><span class="op">:</span> <span class="va">th1</span>; <span class="va">ha</span><span class="op">:</span> <span class="va">ha1</span>; <span class="va">bk</span><span class="op">:</span> <span class="va">b3</span></code></pre>
<p>Here, we have 7 groups: tr, Td, wt, ap, th, ha and bk, all separated
by a ‘;’. ‘tr’ e.g. will be expanded to ‘C_treatment’ as defined in the
dictionary. ‘GPos’ is the value in the first group, meaning that this
sample belongs to the experiment group (denoted as ‘GPos’). The next
group ‘Td: 4’ means that the treatment time for this sample was 4 days,
and so on.</p>
<ul>
<li>The first part of an element is always the short name, the
abbreviation that gets expanded to its long name using the dictionary.
The second part of the element is its actual value. The first part can
be thought of as the column name in a spreadsheet, while the second part
is the actual value within that column.<br>
</li>
<li>The order of the groups is not relevant, they can be in different
order for different samples (but as this could be confusing during data
acquisition, this is not recommended). If an erroneous sample ID is
provided, it can be repaired later using the function
<code>repairSID</code>.<br>
</li>
<li>The data, i.e. the class- and numerical variables assigned to each
sample can later be accessed via the slot <code>cyTags</code> in the
object created by e.g. function <code>flowdexit</code>, and they will
also be exported to file (if exporting to xlsx). These data can be very
helpful and convenient when further analysing the fluorescence
distributions.</li>
</ul>
<p>Considering the sample-IDs present in our tutorial fcs files, we
require a dictionary translating the present abbreviations to their long
names. For that, manually copy the dictionary from
<code>flowdexTutorial/dictionary/dictionary.xlsx</code> to
<code>tapWater@home/dictionary</code>, or call</p>
<pre><code><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/dictionary"</span><span class="op">)</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/dictionary"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span><span class="op">)</span></code></pre>
<p>Open the copied xlsx file, look at the column named ‘Abbreviation’:
for each element name (the first part of an element) in the sample ID
there is an entry in the dictionary, along with its long name (the final
‘column name’ when thinking in a spreadsheet).<br>
* By prepending the long names with dedicated strings it is possible to
define each group as being either a class-variable or a numerical
variable. * The default string for class variables is ‘C_’, and that for
numerical variables is ‘Y_’. * Prepending the long names in the
dictionary with either class-variable or numerical variable prefix is
mandatory.</p>
<p>By now we should have 108 FCS files in ‘<a href="mailto:tapWater@home" class="email">tapWater@home</a>/fcsFiles’
and one file ‘dictionary.xlsx’ in the folder ‘<a href="mailto:tapWater@home" class="email">tapWater@home</a>/dictionary’.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="two-workflow-scenarios">Two Workflow Scenarios<a class="anchor" aria-label="anchor" href="#two-workflow-scenarios"></a>
</h2>
<p>There are two basic scenarios when using <code>flowdex</code> that
further define the appropriate workflow: * A) Gating strategy and
polygon gates are <strong>not yet defined</strong>.<br>
Here, the focus is on establishing the gating strategy and manually
drawing the polygon gates.</p>
<ul>
<li><ol start="2" style="list-style-type: upper-alpha">
<li>Gating strategy and polygon gates are <strong>already
defined</strong>.<br>
Here, the focus is on using the previously established gating strategy
to extract fluorescence distributions, visualise them and export them to
file.<br>
All this (except visualisation) is conveniently done via
<code>flowdexit</code>. Look at <a href="#quickstart">Quickstart</a> for
an immediate example.</li>
</ol></li>
</ul>
<div class="section level3">
<h3 id="workflow-a-define-gating-strategy-and-polygon-gates">Workflow A: Define Gating Strategy and Polygon Gates<a class="anchor" aria-label="anchor" href="#workflow-a-define-gating-strategy-and-polygon-gates"></a>
</h3>
<p>The next step after data acquisition is to visualize the raw-counts,
to decide which sample to use for drawing the gate, and then to manually
draw the polygon gate(s) and safe them for later use. Each row in the
gating strategy file defines a single gate along with its polygon gate
definition. Gates can be nested or ‘standalone’.</p>
<div class="section level4">
<h4 id="read-in-fcs-files-and-make-gating-set">Read in FCS Files and Make Gating Set<a class="anchor" aria-label="anchor" href="#read-in-fcs-files-and-make-gating-set"></a>
</h4>
<p>Before drawing a polygon gate on a single sample, we have to read in
some FCS files and produce the gating set.</p>
<pre><code><span class="va">gsAll</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/makeGatingSet.html">makeGatingSet</a></span><span class="op">(</span><span class="op">)</span></code></pre>
<p>If everything was left at the default, this will read in all 108
fcs-files contained in the folder ‘fcsFiles’.<br>
For the purpose of this demonstration we will restrict the fcs files to
be read in to a lower number by defining a filename pattern: Only fcs
files with matching pattern will be read in.</p>
<pre><code><span class="va">gsRed</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/makeGatingSet.html">makeGatingSet</a></span><span class="op">(</span>patt<span class="op">=</span><span class="st">"GPos_T6_th2"</span><span class="op">)</span>
<span class="va">gsRed</span></code></pre>
<p>Note the printout of the samples contained in the gating set and of
the available channels.<br>
Only fcs files from the experiment group from day 6 (second third,
i.e. 6 beakers) were read in. We can now use this reduced gating set to
visualise the raw fcs data by specifying the channel we want for the x
and for the y axis:</p>
<pre><code><span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gsRed</span>, toPdf <span class="op">=</span> <span class="cn">FALSE</span>, x<span class="op">=</span><span class="st">"FITC.A"</span>, y<span class="op">=</span><span class="st">"PerCP.A"</span><span class="op">)</span></code></pre>
</div>
<div class="section level4">
<h4 id="manually-draw-polygon-gate">Manually Draw Polygon Gate<a class="anchor" aria-label="anchor" href="#manually-draw-polygon-gate"></a>
</h4>
<p>All 6 samples seem to have a good representation of our desired
population, the stained bacteria. Lets assume we choose beaker
‘GPos_T6_th2_b5’, which is the 5th sample in this gating set, as sample
to manually draw the polygon gate on:</p>
<pre><code>drawGate(gsRed, flf=5 gn="root", pggId="BactStainV1", channels=".")
# point and click to draw a polygon gate around the population of interest</code></pre>
<p><code>gn</code>is the name of the gate we want to use to display
data. As no gates are yet defined let alone added to the gating set, we
leave that at the default ‘root’.<br><code>pggId</code> specifies the name the new polygon gate should be
saved under. If left at the default, ‘polyGate’ will be used.<br><code>channels</code> is specifying which channels we want to be
displayed on the x and y axis. Defaults to ‘c(“FITC.A”,
“PerCP.A”)’.<br>
The lines displayed in the graphic have their origin in the
<code>bnd</code> argument, defining the boundaries to be
displayed.<br>
(All default values can be easily changed in the ‘flowdex_settings.R’
file located at ‘~/desktop/flowdex_SH’.)</p>
<p>If you are not satisfied with the polygon gate definition, you can
draw it again while simultaneously displaying an other (the old)
gate:</p>
<pre><code><span class="fu"><a href="reference/drawGate.html">drawGate</a></span><span class="op">(</span><span class="va">gsRed</span>, flf<span class="op">=</span><span class="fl">5</span>, gn<span class="op">=</span><span class="st">"root"</span>, pggId<span class="op">=</span><span class="st">"BactStainV1"</span>, show<span class="op">=</span><span class="st">"BactStainV1"</span><span class="op">)</span> 
<span class="co"># point and click to draw an improved polygon gate around the population of interest</span></code></pre>
<p>Polygon gate definitions get automatically saved under the specified
name in the folder ‘gating’.</p>
<p>You can leave the gate definition of ‘BactStainV1’ as you were
drawing it, or you can copy the gate definition that was originally
drawn for this project:</p>
<pre><code><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/gating/BactStainV1"</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/gating"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
</div>
<div class="section level4">
<h4 id="write-gating-strategy">Write Gating Strategy<a class="anchor" aria-label="anchor" href="#write-gating-strategy"></a>
</h4>
<p>For each gate that you want to apply to your gating set, there has to
be one row in the gating strategy file. Now copy the template for the
gating strategy file into the experiment home folder:</p>
<pre><code><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/templates/gateStrat.xlsx"</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/gating"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span><span class="op">)</span></code></pre>
<p>Open the copied file. For every gate, i.e. every row, all 8 fields
have to filled in. * The ‘GateName’ is, obviously, the name of the gate.
Short names recommended. * ‘Parent’ is the name of the parent-gate,
i.e. the gate where the data are coming from. In the first row, this has
to be ‘root’. * ‘GateOnX’ and GateOnY’ define the channels to be used
for that gate in the x and y axis. * ‘GateDefinition’ is the name of the
polygon gate manually drawn in the previous step. * ‘extractOn’ defines
on which channel, i.e. along which axis the fluorescence data should be
extracted. Must be either the channel used for the x axis or the channel
used for the y axis. * ‘minRange’ and ‘maxRange’ define the lower and
upper limit of the channel where data are extracted. * ‘keepData’ is
denoting whether the data from this gate are to be kept or not. Set this
field to FALSE when the data of this gate are not of interest and it is
merely used to prepare the data for an other, a nested gate. There has
to be at least one field in ‘keepData’ set to TRUE. * The column names
must not be changed.</p>
<p>For the example at hand, fill in the gating strategy file as
follows:</p>
<pre><code><span class="va">GateName</span><span class="op">:</span> <span class="va">DNA</span><span class="op">+</span>
<span class="va">Parent</span><span class="op">:</span> <span class="va">foot</span>
<span class="va">GateOnX</span><span class="op">:</span> <span class="va">FITC.A</span>
<span class="va">GateOnY</span><span class="op">:</span> <span class="va">PerCP.A</span>
<span class="va">GateDefinition</span><span class="op">:</span> <span class="va">BactStainV1</span>
<span class="va">extractOn</span><span class="op">:</span> <span class="va">FITC.A</span>
<span class="va">minRange</span><span class="op">:</span> <span class="fl">1250</span>
<span class="va">maxRange</span><span class="op">:</span> <span class="fl">4000</span>
<span class="va">keepData</span><span class="op">:</span> <span class="cn">TRUE</span></code></pre>
<p>Or copy the already filled out gating strategy file defining the gate
‘DNA+’ with its polygon gate definition ‘BactStainV1’ from the tutorial
folder:</p>
<pre><code><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/gating/gateStrat.xlsx"</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/gating"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Now everything should be ready to apply the gating strategy to the
gating set:</p>
<pre><code><span class="va">gsRed_ga</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/addGates.html">addGates</a></span><span class="op">(</span><span class="va">gsRed</span><span class="op">)</span>
<span class="fu">flowWorkspace</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/flowWorkspace/man/plot-methods.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gsRed_ga</span><span class="op">)</span> <span class="co"># to view the gate hierarchy </span>
<span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gsRed_ga</span>, toPdf <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># to view the gated data</span></code></pre>
</div>
<div class="section level4">
<h4 id="draw-gate-add-to-gating-strategy-add-gate-to-gating-set--and-repeat">Draw Gate, Add to Gating Strategy, Add Gate to Gating Set – and
Repeat<a class="anchor" aria-label="anchor" href="#draw-gate-add-to-gating-strategy-add-gate-to-gating-set--and-repeat"></a>
</h4>
<p>When more than one gate should be defined in the gating strategy, the
circle of * drawing the gate on a single sample, * adding that gate to
the gating strategy, and * adding that gate to the gating set<br>
is repeated for every gate that should be applied to the fcs data.</p>
<p>In the next iteration, i.e. when for example a second gate within the
data from the first gate should be defined, one would call:</p>
<pre><code><span class="fu"><a href="reference/drawGate.html">drawGate</a></span><span class="op">(</span><span class="va">gsRed_ga</span>, flf<span class="op">=</span><span class="fl">5</span>, gn<span class="op">=</span><span class="st">"DNA+"</span>, pggId<span class="op">=</span><span class="st">"pg2"</span>, channels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FITC.A"</span>, <span class="st">"SSC.A"</span><span class="op">)</span><span class="op">)</span>
<span class="co"># point and click to draw a polygon gate around the population of interest</span>

<span class="co"># add the gate in the gating strategy file:</span>
<span class="va">GateName</span><span class="op">:</span> <span class="va">FooGate</span>
<span class="va">Parent</span><span class="op">:</span> <span class="va">DNA</span><span class="op">+</span>
<span class="va">GateOnX</span><span class="op">:</span> <span class="va">FITC.A</span>
<span class="va">GateOnY</span><span class="op">:</span> <span class="va">SSC.A</span>
<span class="va">GateDefinition</span><span class="op">:</span> <span class="va">pg2</span>
<span class="va">extractOn</span><span class="op">:</span> <span class="va">SSC.A</span>
<span class="va">minRange</span><span class="op">:</span> <span class="fl">0</span>
<span class="va">maxRange</span><span class="op">:</span> <span class="fl">4000</span>
<span class="va">keepData</span><span class="op">:</span> <span class="cn">TRUE</span>

<span class="va">gsRed_ga</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/addGates.html">addGates</a></span><span class="op">(</span><span class="va">gsRed_ga</span><span class="op">)</span> <span class="co"># add the gate to the gating set </span></code></pre>
<p>Repeat these three steps to define any set of possibly nested gates.
You can always view the gating hierarchy and the gated data via:</p>
<pre><code><span class="fu">flowWorkspace</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/flowWorkspace/man/plot-methods.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gsRed_ga</span><span class="op">)</span> <span class="co"># to view the gating hierarchy</span>
<span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gsRed_ga</span>, toPdf <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="co"># to view the gated data</span></code></pre>
<p>Now copy a ready made example for a gating strategy holding more than
one gate from the tutorial folder in the experiment home folder</p>
<pre><code><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/gating"</span><span class="op">)</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/gating"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># this might overwrite the polygon gate definition you created above</span></code></pre>
<p>and apply it to a gating set. For ease of demonstration, we will
again use the subset of the fcs files as above.<br>
Reading in the fcs files and adding the gates can be conveniently done
using <code>makeAddGatingSet</code>:</p>
<pre><code><span class="va">gsRed2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/makeAddGatingSet.html">makeAddGatingSet</a></span><span class="op">(</span>patt<span class="op">=</span><span class="st">"GPos_T6_th2"</span>, gateStrat <span class="op">=</span> <span class="st">"gateStrat_2"</span><span class="op">)</span>
<span class="co"># we are not using the default name for gating strategy any more</span>
<span class="fu">flowWorkspace</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/flowWorkspace/man/plot-methods.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gsRed2</span><span class="op">)</span> <span class="co"># to view the gating hierarchy</span>
<span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gsRed2</span>, toPdf <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="co"># to view the gated data</span></code></pre>
<p>Note that only those gated data get displayed in ‘plotgates’ where
the field ‘keepData’ in the gating strategy file is set to ‘TRUE’.<br>
(Admittedly, the practical value of this gating hierarchy is rather
non-existent, but it is merely for demonstrating the setup of nested
gates…)</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="workflow-b-extract-fluorescence-distributions">Workflow B: Extract Fluorescence Distributions<a class="anchor" aria-label="anchor" href="#workflow-b-extract-fluorescence-distributions"></a>
</h3>
<p>Here, the focus is on using a <strong>previously established</strong>
gating strategy to extract fluorescence distributions, visualise them
and export them to file.<br>
All this (except visualisation) is conveniently done via
<code>flowdexit</code>. Look at <a href="#quickstart">Quickstart</a> for
an immediate example.</p>
<p>If not already done, set up the tutorial data as described in <a href="#set-up-tutorial">Set up Tutorial</a>.<br>
Now copy (again) the relevant files from the tutorial folder in the
experiment-home folder:</p>
<pre><code><span class="va">destination</span> <span class="op">&lt;-</span> <span class="st">"~/desktop"</span>
<span class="va">fromFcs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/fcsFiles"</span><span class="op">)</span>, full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">fromDict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/dictionary"</span><span class="op">)</span>, full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">fromGating</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/gating"</span><span class="op">)</span>, full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">toFcs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/fcsFiles"</span><span class="op">)</span>
<span class="va">toDict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/dictionary"</span><span class="op">)</span>
<span class="va">toGating</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/gating"</span><span class="op">)</span>
<span class="co">#</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">fromFcs</span>, <span class="va">toFcs</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">fromDict</span>, <span class="va">toDict</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">fromGating</span>, <span class="va">toGating</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre>
<div class="section level4">
<h4 id="flowdexit">Flowdexit<a class="anchor" aria-label="anchor" href="#flowdexit"></a>
</h4>
<p>Using <code>flowdexit</code>is the most straight-forward way to
extract fluorescence distributions when the gating strategy and all the
gate definitions are checked and in place. (Read <a href="#workflow-a-define-gating-strategy-and-polygon-gates">Workflow
A</a> for learning how to write a gating strategy and how to define
polygon gates.)<br>
At this point we assume that we * Provided a structured ID character in
the sample ID field of each sample in the GUI of our FCM-machine, *
completed our data acquisition and have all our fcs files in the folder
called ‘fcsFiles’, * have a dictionary file where all the abbreviations
in the structured ID character are listed in the folder called
‘dictionary’, * have a gating strategy file along with its gate
definitions in the folder called ‘gating’.</p>
<p>If all that requirements are met, we can call:</p>
<pre><code><span class="va">fdmat1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/flowdexit.html">flowdexit</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># and to inspect the result:</span>
<span class="va">fdmat1</span> <span class="co"># displaying cyTags and sample IDs (in the slot pDAta)</span>
<span class="va">fdmat1</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># displaying data from the first (and only) gate</span></code></pre>
<p>This will use the default gating strategy called ‘gateStrat’ (where
one (1) gate is defined), extract the fluorescence distributions along
the ‘FITC.A’ channel (in that example), re-calculate them to events per
ml and save the resulting data in an xlsx file (along with some metadata
etc. in additional sheets). The resulting R-object (the same as returned
by the function <code>flowdexit</code>) is saved to disc as well. (See
also <code><a href="reference/fd_save.html">?fd_save</a></code>and <code><a href="reference/fd_load.html">?fd_load</a></code> for how to manually
save and load the resulting ‘fdmat’ object.)</p>
<p>When calling <code>flowdexit</code>, the gating set built on the way
to extract the fluorescence distributions gets assigned to an extra
environment, it can be accessed via:</p>
<pre><code><span class="va">gs1</span> <span class="op">&lt;-</span> <span class="va">gsenv</span><span class="op">$</span><span class="va">gatingSet</span>
<span class="co"># inspect the gating set:</span>
<span class="va">gs1</span>
<span class="fu">flowWorkspace</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/flowWorkspace/man/plot-methods.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gs1</span><span class="op">)</span></code></pre>
<p>Buts lets be a bit more ambitious and try the (slightly non-sensical)
gating strategy where multiple nested gates are defined, called
‘gateStrat_2’:</p>
<pre><code><span class="va">fdmat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/flowdexit.html">flowdexit</a></span><span class="op">(</span>gateStrat <span class="op">=</span> <span class="st">"gateStrat_2"</span><span class="op">)</span>
<span class="co"># and to inspect the result:</span>
<span class="va">fdmat2</span> <span class="co"># displaying cyTags and sample IDs (in the slot pDAta)</span>
<span class="va">fdmat2</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># displaying data from the first gate</span>
<span class="va">fdmat2</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="co"># displaying data from the second gate</span></code></pre>
<p>Again, the gating set that was produced on the way can be accessed
via:</p>
<pre><code><span class="va">gs2</span> <span class="op">&lt;-</span> <span class="va">gsenv</span><span class="op">$</span><span class="va">gatingSet</span>
<span class="co"># inspect the gating set:</span>
<span class="va">gs2</span>
<span class="fu">flowWorkspace</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/flowWorkspace/man/plot-methods.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gs2</span><span class="op">)</span></code></pre>
<p>Please observe that every call to <code>flowdexit</code> will assign
the object <code>gatingSet</code>to the environment <code>gsenv</code>.
So, only one gating set, the <strong>last one</strong> produced when
calling <code>flowdexit</code>, can be accessed in that environment.</p>
</div>
<div class="section level4">
<h4 id="visualize-gates">Visualize Gates<a class="anchor" aria-label="anchor" href="#visualize-gates"></a>
</h4>
<p>Of course it is possible to visualise the gated data. To do this,
call</p>
<pre><code><span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gs1</span>, toPdf <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># a bit much on one graphic</span></code></pre>
<p>This will plot all gated data from all samples in one page, what is a
bit much – making the single plot very small.<br>
To improve this, it is possible to define a column name from the cyTags
(as can be found in the ‘fdmat’ object) that then will be used to split
the data, resulting in only those samples being plotted in the same
graphic that share the same value in the specified cyTag-column:</p>
<pre><code><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">fdmat1</span><span class="op">@</span><span class="va">cyTags</span><span class="op">)</span>
<span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gs1</span>, spl<span class="op">=</span><span class="st">"Y_Time.d"</span>, toPdf <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>(The resulting pdf can be found in the folder ‘plots’; ‘toPdf’
defaults to TRUE). This way we have only samples from the same day on
one graphic - a more useful output, but still rather small individual
plots.</p>
<p>A solution could be to read in only fcs files from the same day, then
use <code>plotgates</code> split by ‘C_treatment’. Lets try this using
the function <code>makeAddGatingSet</code>:</p>
<pre><code><span class="va">gs_d4</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/makeAddGatingSet.html">makeAddGatingSet</a></span><span class="op">(</span>patt <span class="op">=</span> <span class="st">"T4"</span>, gateStrat <span class="op">=</span> <span class="st">"gateStrat_2"</span><span class="op">)</span>
<span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gs_d4</span>, spl<span class="op">=</span><span class="st">"C_treatment"</span>, fns<span class="op">=</span><span class="st">"_day4"</span><span class="op">)</span>
<span class="va">gs_d5</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/makeAddGatingSet.html">makeAddGatingSet</a></span><span class="op">(</span>patt <span class="op">=</span> <span class="st">"T5"</span>, gateStrat <span class="op">=</span> <span class="st">"gateStrat_2"</span><span class="op">)</span>
<span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gs_d5</span>, spl<span class="op">=</span><span class="st">"C_treatment"</span>, fns<span class="op">=</span><span class="st">"_day5"</span><span class="op">)</span>
<span class="va">gs_d6</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/makeAddGatingSet.html">makeAddGatingSet</a></span><span class="op">(</span>patt <span class="op">=</span> <span class="st">"T6"</span>, gateStrat <span class="op">=</span> <span class="st">"gateStrat_2"</span><span class="op">)</span>
<span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gs_d6</span>, spl<span class="op">=</span><span class="st">"C_treatment"</span>, fns<span class="op">=</span><span class="st">"_day6"</span><span class="op">)</span></code></pre>
<p>This should give a nice and not too small graphic of the gated data
in each sample. Please observe that gated data get plotted for every
gate in the gating strategy where ‘keepData’ is set to TRUE.<br>
Set the argument ‘plotAll’ in the function ‘plotgates’ to TRUE to
override this and to plot gated data from <strong>all</strong> gates
defined in the gating strategy:</p>
<pre><code><span class="fu"><a href="reference/plotgates.html">plotgates</a></span><span class="op">(</span><span class="va">gs_d6</span>, spl<span class="op">=</span><span class="st">"C_treatment"</span>, fns<span class="op">=</span><span class="st">"_day6_allGates"</span>, plotAll <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>This can be very helpful in the process of checking / verifying the
gating strategy.</p>
</div>
<div class="section level4">
<h4 id="visualize-fluorescence-distribution">Visualize Fluorescence Distribution<a class="anchor" aria-label="anchor" href="#visualize-fluorescence-distribution"></a>
</h4>
<p>(Note: The functionality to visualize the fluorescence distribution
is merely intended to give a first view of the data. It is not intended
for data analysis or presentation.)<br>
As the purpose of <code>flowdex</code> is to extract fluorescence
distributions, it would be borderline obscene not to have a way to
visually inspect the result. You can do this by calling</p>
<pre><code><span class="fu"><a href="reference/plotFlscDist.html">plotFlscDist</a></span><span class="op">(</span><span class="va">fdmat1</span><span class="op">)</span></code></pre>
<p>(Again, the default behaviour is to export the plot to a pdf located
in the folder ‘plots’.) This displays the fluorescence along the FITC
channel (in this example) <strong>re-calculated to events per volume on
the y-axis</strong> of all samples.<br>
Again, too much information on one graphic. So, for the purpose of this
demonstration, we will look at a <em>subset</em> of the data, that is
only samples from day 4 and the first third of beakers. We do this by
providing a pattern to read in only those filenames that match this
pattern:</p>
<pre><code><span class="va">fdmat_s</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/flowdexit.html">flowdexit</a></span><span class="op">(</span>patt <span class="op">=</span> <span class="st">"T4_th1"</span><span class="op">)</span>
<span class="va">fdmat_s</span> <span class="co"># has now only 12 samples</span>
<span class="va">gs_s</span> <span class="op">&lt;-</span> <span class="va">gsenv</span><span class="op">$</span><span class="va">gatingSet</span> <span class="co"># not required, just to keep it</span>
<span class="co">#</span>
<span class="fu"><a href="reference/plotFlscDist.html">plotFlscDist</a></span><span class="op">(</span><span class="va">fdmat_s</span>, toPdf <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># much nicer</span></code></pre>
<p>Again, as in <code>plotgates</code>, it is possible to split the data
by providing a column name of the cyTags to have only these samples in
the graphic that have the same value in this cyTag:</p>
<pre><code><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">fdmat_s</span><span class="op">@</span><span class="va">cyTags</span><span class="op">)</span>
<span class="fu"><a href="reference/plotFlscDist.html">plotFlscDist</a></span><span class="op">(</span><span class="va">fdmat_s</span>, spl <span class="op">=</span> <span class="st">"C_treatment"</span>,  ti<span class="op">=</span><span class="st">"Day 4, first third"</span>,  toPdf <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="reference/plotFlscDist.html">plotFlscDist</a></span><span class="op">(</span><span class="va">fdmat_s</span>, spl <span class="op">=</span> <span class="st">"C_treatment"</span>, fns<span class="op">=</span><span class="st">"_d4_th1"</span>, ti<span class="op">=</span><span class="st">"Day 4, first third"</span><span class="op">)</span> <span class="co"># export to pdf</span></code></pre>
<p>Please refer to the manual at <code><a href="reference/plotFlscDist.html">?plotFlscDist</a></code>to see the
arguments for custom colors and custom linetypes.</p>
<hr>
</div>
</div>
</div>
<div class="section level2">
<h2 id="accessory-functions">Accessory Functions<a class="anchor" aria-label="anchor" href="#accessory-functions"></a>
</h2>
<div class="section level3">
<h3 id="check-and-repair-fcs-files">Check and Repair FCS Files<a class="anchor" aria-label="anchor" href="#check-and-repair-fcs-files"></a>
</h3>
<p>As it also happened to the author, sometimes the FCM-machine seems to
have written a kind of ‘faulty’ fcs file, resulting in the error
message</p>
<pre><code>The HEADER and the TEXT segment define different starting point ... to read the data</code></pre>
<p>when trying to add a gate to the previously read in fcs files.
<em>Reading in</em> those fcs files via <code><a href="https://rdrr.io/pkg/flowCore/man/read.FCS.html" class="external-link">flowCore::read.FCS</a></code>
was not the problem – at least in the authors case.<br>
After some testing it was concluded that the reason for that error
appears to lie in a multiplication of keywords in the afflicted fcs
files. Thus, the function <code>checkRepairFcsFiles</code>was written to
remove all but one of each of the multiplied keywords.<br><code>checkRepairFcsFiles</code> is automatically executed whenever fcs
files are read in. However, the default is to <strong>not</strong>
repair the afflicted fcs files, but to merely list the possibly
erroneous files and to stop. If so desired,
<code>checkRepairFcsFiles</code> can be called manually in order to have
more options: Multiple keywords can be viewed, and it can be selected
which one of the multiples of each keyword to keep. See
<code><a href="reference/checkRepairFcsFiles.html">?checkRepairFcsFiles</a></code>for further information. For the
purpose of this demonstration, some fcs files provoking the error as
described above are included in the tutorial dataset. First, copy the
faulty fcs files to a folder in the experiment-home directory:</p>
<pre><code><span class="va">destination</span> <span class="op">&lt;-</span> <span class="st">"~/desktop"</span>
<span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/fcsF_E_rep"</span><span class="op">)</span>, full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/fcsF_E_rep"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">to</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Now check:</p>
<pre><code><span class="fu"><a href="reference/checkRepairFcsFiles.html">checkRepairFcsFiles</a></span><span class="op">(</span>fn<span class="op">=</span><span class="st">"fcsF_E_rep"</span><span class="op">)</span></code></pre>
<p>It says that two files have multiplied keywords. Repair them by
calling</p>
<pre><code><span class="fu"><a href="reference/checkRepairFcsFiles.html">checkRepairFcsFiles</a></span><span class="op">(</span>fn<span class="op">=</span><span class="st">"fcsF_E_rep"</span>, fcsRepair <span class="op">=</span> <span class="cn">TRUE</span>, confirm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co"># check again, all should be good now:</span>
<span class="fu"><a href="reference/checkRepairFcsFiles.html">checkRepairFcsFiles</a></span><span class="op">(</span>fn<span class="op">=</span><span class="st">"fcsF_E_rep"</span><span class="op">)</span></code></pre>
<p>Please refer to <code><a href="reference/checkRepairFcsFiles.html">?checkRepairFcsFiles</a></code>for further
information on how to view multiplied keywords and how to select which
one of each multiple to keep.</p>
</div>
<div class="section level3">
<h3 id="repair-sample-id-and-volume-data">Repair Sample ID and Volume Data<a class="anchor" aria-label="anchor" href="#repair-sample-id-and-volume-data"></a>
</h3>
<p>In case it happened that the volumetric measurement of a single
sample did not succeed, or that an erroneous sample-ID string was
provided in the sample-ID field of a single sample at the time of data
acquisition, there are two functions to remedy these issues:
<code>repairVolumes</code> and <code>repairSID</code>.</p>
<div class="section level4">
<h4 id="repair-volumes">Repair Volumes<a class="anchor" aria-label="anchor" href="#repair-volumes"></a>
</h4>
<p>First, copy some (manipulated) fcs files to a folder in the
experiment-home directory:</p>
<pre><code><span class="va">destination</span> <span class="op">&lt;-</span> <span class="st">"~/desktop"</span>
<span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/flowdexTutorial/fcsF_E_vol_sid"</span><span class="op">)</span>, full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">destination</span>, <span class="st">"/tapWater@home/fcsF_E_vol_sid"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">to</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>In order to repair missing volume data, call</p>
<pre><code><span class="fu"><a href="reference/repairVolumes.html">repairVolumes</a></span><span class="op">(</span>fn <span class="op">=</span> <span class="st">"fcsF_E_vol_sid"</span>, vol<span class="op">=</span><span class="fl">1234567</span><span class="op">)</span>
<span class="co"># press enter to confirm</span>
<span class="co"># and check again:</span>
<span class="fu"><a href="reference/repairVolumes.html">repairVolumes</a></span><span class="op">(</span>fn <span class="op">=</span> <span class="st">"fcsF_E_vol_sid"</span>, vol<span class="op">=</span><span class="fl">1234567</span><span class="op">)</span> <span class="co"># all should be good</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># restore the "bad" files</span>
<span class="fu"><a href="reference/repairVolumes.html">repairVolumes</a></span><span class="op">(</span>fn <span class="op">=</span> <span class="st">"fcsF_E_vol_sid"</span>, vol<span class="op">=</span><span class="fl">1234567</span>, confirm<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="co"># to run it without having to confirm</span></code></pre>
<p>If you want to force <strong>all fcs files</strong> in a folder to
have the <strong>same</strong> volume data, you can set the argument
<code>includeAll</code> to TRUE:</p>
<pre><code><span class="fu"><a href="reference/repairVolumes.html">repairVolumes</a></span><span class="op">(</span>fn <span class="op">=</span> <span class="st">"fcsF_E_vol_sid"</span>, vol<span class="op">=</span><span class="fl">1010101</span>, confirm<span class="op">=</span><span class="cn">FALSE</span>, includeAll <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
</div>
<div class="section level4">
<h4 id="repair-sample-id">Repair Sample ID<a class="anchor" aria-label="anchor" href="#repair-sample-id"></a>
</h4>
<p>Assuming you repaired the volume data as described <a href="#repair-volumes">above</a>, we can use the fcs files in the folder
‘fcsF_E_vol_sid’ to demonstrate how to repair a faulty sample ID.<br>
It is more than likely that sometimes (e.g. in the long nights of data
acquisition because the FCM-machine is so occupied that you are driven
to the long hours after dark…) an erroneous sample ID character is
provided in the sample ID field of an individual sample at the time of
data acquisition (see the <a href="#using-structured-id-string-and-dictionary">structured ID
string</a>).<br><code>repairSID</code> is here to remedy that. In the best case, a
faulty sample ID comes to your attention because the translation of
element names via the dictionary does not work. In the worst case, the
element value is wrong. This only comes to your attention when
e.g. cross-referencing the sample names and the cyTags / the sample IDs
in the pData slot of the <a href="#flowdexit">‘fdmat’ object</a> –
<strong>if</strong> you gave descriptive sample names…</p>
<p>To repair a faulty sample ID in a single fcs file, you first have to
read in all (or some; use argument <code>patt</code>) fcs files in a
folder; they come back as <code>flowSet</code> (from package
<code>flowCore</code>). You then give this ‘flowSet’ again to the
function <code>repairSID</code>, but now you can specify a sample name
and its new sample ID:</p>
<pre><code><span class="va">flowset</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/repairSID.html">repairSID</a></span><span class="op">(</span>fn <span class="op">=</span> <span class="st">"fcsF_E_vol_sid"</span><span class="op">)</span>
<span class="va">flowset</span><span class="op">@</span><span class="va">phenoData</span><span class="op">@</span><span class="va">data</span> <span class="co"># very bad sample ID in the fourth sample</span>
<span class="co"># view the correct sample IDs of the other samples</span>
<span class="co"># copy one of those correct sample IDs</span>
<span class="co"># paste and modify it - it should be beaker #3:</span>
<span class="va">nsid</span> <span class="op">&lt;-</span> <span class="st">"tr: GPos; Td: 5; wt: nativ; ap: no; th: th1; ha: ha1; bk: b3"</span>
<span class="co"># also copy and paste the sample name</span>
<span class="va">sana</span> <span class="op">&lt;-</span> <span class="st">"N_na_GPos_T5_th1_b3.fcs"</span> <span class="co"># the  name of the sample having the faulty sample ID</span>
<span class="co"># now put all together and write fcs file with correct sample ID back to disk</span>
<span class="fu"><a href="reference/repairSID.html">repairSID</a></span><span class="op">(</span>fs<span class="op">=</span><span class="va">flowset</span>, fn<span class="op">=</span><span class="st">"fcsF_E_vol_sid"</span>, name<span class="op">=</span><span class="va">sana</span>, newSID <span class="op">=</span> <span class="va">nsid</span><span class="op">)</span>
<span class="co"># press enter to confirm</span>
<span class="co">#</span>
<span class="co"># and check again:</span>
<span class="va">flowset</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/repairSID.html">repairSID</a></span><span class="op">(</span>fn <span class="op">=</span> <span class="st">"fcsF_E_vol_sid"</span><span class="op">)</span>
<span class="va">flowset</span><span class="op">@</span><span class="va">phenoData</span><span class="op">@</span><span class="va">data</span> <span class="co"># all is good </span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="apply-bandpass-filter">Apply Bandpass Filter<a class="anchor" aria-label="anchor" href="#apply-bandpass-filter"></a>
</h3>
<p>Function <code>applyBandpass</code> does exactly what it says – it
applies a bandpass-like filter to the fluorescence intensities stemming
from a single gate.<br>
If not already done <a href="#visualize-fluorescence-distribution">before</a>, create an
‘fdmat’ object containing only a small subset of the data:</p>
<pre><code><span class="va">fdmat_s</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/flowdexit.html">flowdexit</a></span><span class="op">(</span>patt <span class="op">=</span> <span class="st">"T4_th1"</span><span class="op">)</span>
<span class="fu"><a href="reference/plotFlscDist.html">plotFlscDist</a></span><span class="op">(</span><span class="va">fdmat_s</span>, toPdf <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre>
<p>We see not much happening below the fluorescence intensity 1600 and
above 2400.<br>
Lets apply a bandpass filter to our ‘fdmat’ object so that only those
fluorescence intensities between 1600 and 2400 remain:</p>
<pre><code><span class="va">fdmat_s_bp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/applyBandpass.html">applyBandpass</a></span><span class="op">(</span><span class="va">fdmat_s</span>, bandpass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1600</span>, <span class="fl">2400</span><span class="op">)</span><span class="op">)</span>
<span class="va">fdmat_s</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># compare</span>
<span class="va">fdmat_s_bp</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># </span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">fdmat_s</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">fdmat_s_bp</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre>
<p>Also the number of overal events per volume unit are updated -
observe and compare the number in the legend in the next plot and the
one from before. Visualize the difference using
<code>plotFlscDist</code>:</p>
<pre><code><span class="fu"><a href="reference/plotFlscDist.html">plotFlscDist</a></span><span class="op">(</span><span class="va">fdmat_s_bp</span>, toPdf <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre>
<p>The rawdata with applied bandpass filter can be exported via</p>
<pre><code><span class="fu"><a href="reference/exportFdmatData.html">exportFdmatData</a></span><span class="op">(</span><span class="va">fdmat_s_bp</span>, expo.name <span class="op">=</span> <span class="st">"flscData_d4_th1"</span><span class="op">)</span></code></pre>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>This work was made possible by support from IPF Austria - Georg
Huber.<br>
Flow cytometry data were acquired at the Institute for Hygiene and
Medical Microbiology, Medical University of Innsbruck, Austria.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;=3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing flowdex</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bernhard Pollner <br><small class="roles"> Maintainer, author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/bpollner/flowdex/actions" class="external-link"><img src="https://github.com/bpollner/flowdex/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/bpollner/flowdex" class="external-link"><img src="https://codecov.io/gh/bpollner/flowdex/branch/main/graph/badge.svg?token=aZFS02SMwz" alt="codecov"></a></li>
<li><a href="https://CRAN.R-project.org/package=flowdex" class="external-link"><img src="https://www.r-pkg.org/badges/version/flowdex" alt="CRAN status"></a></li>
<li><a href="https://cran.r-project.org/package=flowdex" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/flowdex" alt="metacran downloads"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Bernhard Pollner.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
